(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],p=0,m=[];p<i.length;p++)o=i[p],r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("c21b"),r=a.n(n);r.a},"058b":function(t,e,a){},10:function(t,e){},11:function(t,e){},12:function(t,e){},2414:function(t,e,a){"use strict";var n=a("ae88"),r=a.n(n);r.a},"3ffc":function(t,e,a){},"44b9":function(t){t.exports=[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_voterInitialTokens",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[],name:"lockRegistration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"startVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stopVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getTotalSupply",outputs:[{name:"_totalSupply",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"}],name:"isStaff",outputs:[{name:"_bStaff",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_staff",type:"address"}],name:"getStaffName",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_staff",type:"address"},{name:"_staffName",type:"string"}],name:"registerStaff",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_staff",type:"address"}],name:"kickStaff",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getTotalStaffs",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_startSearchingIndex",type:"uint256"}],name:"getFirstFoundStaffInfo",outputs:[{name:"_endOfList",type:"bool"},{name:"_nextStartSearchingIndex",type:"uint256"},{name:"_staff",type:"address"},{name:"_name",type:"string"},{name:"_tokensBalance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_staff",type:"address"}],name:"getTotalTeamsVotedByStaff",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_staff",type:"address"},{name:"_votingIndex",type:"uint256"}],name:"getVoteResultAtIndexByStaff",outputs:[{name:"_endOfList",type:"bool"},{name:"_team",type:"string"},{name:"_voteWeight",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_staff",type:"address"}],name:"getTokenBalance",outputs:[{name:"_tokenBalance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_staff",type:"address"},{name:"_votingWeight",type:"uint256"}],name:"commitToVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},"44fa":function(t){t.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_ownerName",type:"string"},{name:"_voterInitialTokens",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[],name:"StateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_contract",type:"address"}],name:"ChildContractCreated",type:"event"},{anonymous:!1,inputs:[],name:"StaffRegistered",type:"event"},{anonymous:!1,inputs:[],name:"StaffKicked",type:"event"},{anonymous:!1,inputs:[],name:"PlayerRegistered",type:"event"},{anonymous:!1,inputs:[],name:"TeamCreated",type:"event"},{anonymous:!1,inputs:[],name:"PlayerKicked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_nextStartSearchingIndex",type:"uint256"}],name:"FirstFoundPlayerInTeamKicked",type:"event"},{anonymous:!1,inputs:[],name:"TeamKicked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_teamName",type:"string"},{indexed:!1,name:"_totalVoted",type:"uint256"}],name:"TeamVoted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"tokenOwner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"getContractState",outputs:[{name:"_state",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"startRegistration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"lockRegistration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"startVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stopVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"createStaffContract",outputs:[{name:"_contract",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"createPlayerContract",outputs:[{name:"_contract",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"createTeamContract",outputs:[{name:"_contract",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newStaff",type:"address"},{name:"_newStaffName",type:"string"}],name:"registerStaff",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_staff",type:"address"}],name:"kickStaff",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_creatorName",type:"string"}],name:"createTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"}],name:"kickTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_playerName",type:"string"},{name:"_teamName",type:"string"}],name:"registerPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_player",type:"address"},{name:"_teamName",type:"string"}],name:"kickPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_startSearchingIndex",type:"uint256"}],name:"kickFirstFoundPlayerInTeam",outputs:[{name:"_nextStartSearchingIndex",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_votingWeight",type:"uint256"}],name:"voteTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"_totalSupply",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenOwner",type:"address"}],name:"balanceOf",outputs:[{name:"_balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenOwner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_tokens",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_tokens",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokens",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return a(e)}function s(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="4678"},"4c39":function(t,e,a){"use strict";var n=a("4c56"),r=a.n(n);r.a},"4c56":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("6bde"),r=(a("96cf"),a("3040")),s=(a("cadf"),a("551c"),a("097d"),a("2b0e")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"nav-bar",attrs:{id:"nav"}},[a("nav",{staticClass:"navbar is-transparent is-warning"},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:"https://p-u.popcdn.net/attachments/images/000/010/730/large/Pizza_Hackathon_Logo.png?1532094493",alt:"Pizza Hackathon",width:"50",height:"50"}})])],1),a("div",{staticClass:"navbar-menu"},[a("div",{staticClass:"navbar-start"},[a("div",{staticClass:"navbar-item"},[a("router-link",{staticClass:"navbar-item link-item",attrs:{to:"/"}},[t._v("\n            Home\n          ")]),a("router-link",{staticClass:"navbar-item link-item",attrs:{to:"/leader-board"}},[t._v("\n            Leader board\n          ")]),a("router-link",{staticClass:"navbar-item link-item",attrs:{to:"/livefeed"}},[t._v("\n            Live feed\n          ")]),a("router-link",{staticClass:"navbar-item link-item",attrs:{to:"/github"}},[t._v("\n            Github\n          ")])],1)]),a("div",{staticClass:"navbar-end"},[a("div",{staticClass:"navbar-item"},[t._v("\n          "+t._s(t.playerInfo)+"\n        ")]),a("div",{staticClass:"navbar-item"},[a("a",{staticClass:"bd-tw-button button is-info",attrs:{href:t.$store.state.system.etherscanPrefix+"/token/"+t.$store.state.system.pizzaCoinAddr+"?a="+t.$pizzaCoin.account,target:"_blank"}},[t._v(" You have "+t._s(t.tokenBalance)+" PZC")])]),a("div",{staticClass:"navbar-item"},[a("div",{staticClass:"field is-grouped"},[t.isStaffLoggedIn&&"Registration"===t.stateContract?a("p",{staticClass:"control"},[a("a",{staticClass:"bd-tw-button button",on:{click:function(e){t.lockRegistration()}}},[t._v("\n                  Freeze & Transfer\n              ")])]):t._e(),a("p",{staticClass:"control"},[t.isStaffLoggedIn&&"Registration Locked"===t.stateContract?a("a",{staticClass:"bd-tw-button button",on:{click:function(e){t.startVote()}}},[t._v("\n                  Start Vote\n              ")]):t._e(),t.isStaffLoggedIn&&"Voting"===t.stateContract?a("a",{staticClass:"bd-tw-button button",on:{click:function(e){t.stopVote()}}},[t._v("\n                  Stop Vote\n              ")]):t._e()])])])])])])]),a("section",["Registration"===t.stateContract?a("span",{class:{icon:!0,hidden:t.hidePlusIcon},on:{click:function(e){t.isComponentModalActive=!0}}},[a("i",{staticClass:"fas fa-plus-circle fa fa-3x"})]):t._e(),a("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isComponentModalActive=e}}},[a("form",{on:{submit:function(e){e.preventDefault(),t.onCreateTeam()}}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Place your name")])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"User name"}},[a("b-input",{attrs:{type:"text",placeholder:"Your name",required:""},model:{value:t.creatorName,callback:function(e){t.creatorName=e},expression:"creatorName"}})],1),a("b-field",{attrs:{label:"teamname"}},[a("b-input",{attrs:{type:"text",placeholder:"Your team name",required:""},model:{value:t.teamname,callback:function(e){t.teamname=e},expression:"teamname"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.onCancel()}}},[t._v("Cancel")]),a("button",{staticClass:"button is-primary"},[t._v("Submit")])])])])])],1),a("router-view",{staticClass:"main"})],1)},i=[],c=a("c93e"),u=(a("7f7f"),a("2f62")),l={data:function(){return{isComponentModalActive:!1,creatorName:"",teamname:"",account:null,hidePlusIcon:!1}},watch:{$route:function(t,e){console.log("route to ".concat(JSON.stringify(t.name))),this.updatePlusIcon()}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("check route --\x3e "+this.$route.name),this.updatePlusIcon(),t.prev=2,t.t0=this.$pizzaCoin,t.next=6,this.$pizzaCoin.account;case 6:return t.t1=t.sent,t.next=9,t.t0.getContractState.call(t.t0,t.t1);case 9:e=t.sent,console.log("check state --\x3e "+e),this.$store.dispatch("staff/getContractState",e),t.next=17;break;case 14:t.prev=14,t.t2=t["catch"](2),console.error(t.t2);case 17:case"end":return t.stop()}},t,this,[[2,14]])}));return function(){return t.apply(this,arguments)}}(),computed:Object(c["a"])({},Object(u["d"])("auth",["isStaffLoggedIn","tokenBalance","isPlayerLoggedIn","playerInfo"]),Object(u["d"])("staff",["stateContract"]),Object(u["d"])("team",["teamCount"])),methods:Object(c["a"])({},Object(u["b"])("auth",["isStaffLogin"]),Object(u["b"])("team",["creatTeam"]),{updatePlusIcon:function(){this.hidePlusIcon="leader-board"===this.$route.name},onCreateTeam:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isComponentModalActive=!1,t.next=4,this.$pizzaCoin.createTeam(this.creatorName,this.teamname);case 4:return t.t0=this.$store,t.next=7,this.$pizzaCoin.getTeamsProfile();case 7:t.t1=t.sent,t.t0.dispatch.call(t.t0,"team/getTeamsProfile",t.t1),this.creatorName="",this.teamname="",t.next=16;break;case 13:t.prev=13,t.t2=t["catch"](0),console.error(t.t2);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){this.teamname="",this.isComponentModalActive=!1},startVote:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=console,t.next=3,this.$pizzaCoin.account;case 3:return t.t1=t.sent,t.t2="start vote"+t.t1,t.t0.log.call(t.t0,t.t2),t.prev=6,t.t3=this.$pizzaCoin,t.next=10,this.$pizzaCoin.account;case 10:return t.t4=t.sent,t.next=13,t.t3.startVoting.call(t.t3,t.t4);case 13:t.next=18;break;case 15:t.prev=15,t.t5=t["catch"](6),console.error(t.t5);case 18:case"end":return t.stop()}},t,this,[[6,15]])}));return function(){return t.apply(this,arguments)}}(),isPlayer:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$pizzaCoin.isPlayer(this.$pizzaCoin.account);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),stopVote:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("stop vote"+this.$pizzaCoin.account),t.prev=1,t.t0=this.$pizzaCoin,t.next=5,this.$pizzaCoin.account;case 5:return t.t1=t.sent,t.next=8,t.t0.stopVoting.call(t.t0,t.t1);case 8:t.next=13;break;case 10:t.prev=10,t.t2=t["catch"](1),console.error(t.t2);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),lockRegistration:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=this.$pizzaCoin,t.next=4,this.$pizzaCoin.account;case 4:return t.t1=t.sent,t.next=7,t.t0.lockRegistration.call(t.t0,t.t1);case 7:t.next=12;break;case 9:t.prev=9,t.t2=t["catch"](0),console.error(t.t2);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()})},p=l,m=(a("034f"),a("e48c"),a("2877")),d=Object(m["a"])(p,o,i,!1,null,"f2cbaecc",null);d.options.__file="App.vue";var f=d.exports,y={user:{},isStaffLoggedIn:!1,isPlayerLoggedIn:!1,isLoading:0,userAddress:"",userName:"",tokenBalance:0,playerInfo:"You haven't registered"},b={setLoading:function(t,e){t.isLoading+=e},isStaffLogin:function(t,e){console.log(" payload >> ".concat(e)),t.isStaffLoggedIn=!0,t.isPlayerLoggedIn=!1},isPlayerLogin:function(t,e){console.log(" payload >> ".concat(e)),t.isStaffLoggedIn=!1,t.isPlayerLoggedIn=!0},getTokenBalance:function(t,e){var a=e.isPlayer,n=e.tokenBalance;console.log(" isPlayer >> ".concat(a)),a||t.isStaffLoggedIn?t.tokenBalance=n:t.tokenBalance=0},playerInfo:function(t,e){var a=e.role,n=e.name;console.log(a+"playerInfo"+n),t.playerInfo=a+" : "+n}},h={isStaffLogin:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,console.log("actions isStaffLogin >> ".concat(a)),n("isStaffLogin",a);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),isPlayerLogin:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,console.log("actions isPlayerLogin >> ".concat(a)),n("isPlayerLogin",a);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),setIsLoading:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("setLoading",a);case 2:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getTokenBalance:function(t,e){var a=t.commit;console.log(" getTokenBalance >> ".concat(e)),a("getTokenBalance",e)},playerInfo:function(t,e){var a=t.commit;a("playerInfo",e)}},g={namespaced:!0,state:y,actions:h,mutations:b},v={teams:[],teamCount:0},w={getTeamsProfile:function(t,e){console.log("action --\x3e getTeamsProfile"),t.commit("getTeamsProfile",e)},creatTeam:function(t,e){t.commit("creatTeam",e)},addMember:function(t,e){t.commit("addMember",e)},removePlayer:function(t,e){console.log("removePlayer --\x3e ".concat(e.address)),t.commit("removePlayer",e)},voteTeam:function(t,e){console.log("voteTeam --\x3e "+e)},getTeamCount:function(t,e){t.commit("setTeamCount",e)}},k={getTeamsProfile:function(t,e){console.log("mutations --\x3e getTeamsProfile"+e),t.teams=e},voteTeam:function(t,e){},addScore:function(t,e){console.log(e.groupId),t.teams.map(function(a,n){a.groupId===e.groupId&&console.log(t.teams[n].score++)})},removePlayer:function(t,e){console.log(e.address)},creatTeam:function(t,e){console.log(e),console.log(t.teams.push({groupId:e,groupName:e,score:3,detail:[]}))},addMember:function(t,e){var a=e.memberName,n=e.teamMebers;console.log(n.groupName),t.teams.map(function(e,r){e.groupId===n.groupId&&console.log(t.teams[r].detail.push({name:a,address:a}))})},setTeamCount:function(t,e){t.teamCount=e}},x={namespaced:!0,state:v,actions:w,mutations:k},_={stateContract:""},C={getContractState:function(t,e){console.log("action --\x3e getContractState"),t.commit("getContractState",e)}},j={getContractState:function(t,e){console.log("mutations --\x3e getContractState"),t.stateContract=e}},T={namespaced:!0,state:_,actions:C,mutations:j},z={network:"kovan",etherscanPrefix:"https://kovan.etherscan.io",ethereumNode:"wss://kovan.infura.io/ws",pizzaCoinAddr:"0x76030b8f0e6e938afabe7662ec248f2b7815e6bb",pizzaCoinStaffAddr:"0xEa1E67465b688Ea1b30856F55AcD77af43376d01",pizzaCoinPlayerAddr:"0x785A811Ad43c733B0FdDd8113E8478bc2AEd02e0",pizzaCoinTeamAddr:"0x216C611001b2e8B6ff2cf51C5e9EB39ABE558E35"},P={namespaced:!0,state:z};s["a"].use(u["a"]);var S=new u["a"].Store({modules:{auth:g,team:x,staff:T,system:P},state:{teamname:""}}),R=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("span",{staticStyle:{"text-align":"center","justify-content":"center",width:"100%",display:"block","font-size":"4em","margin-bottom":"33px","margin-top":"-27px"}},[t._v("\n      Teams\n    ")]),a("div",{staticClass:"container"},[a("div",{staticClass:"is-mobile"},[a("div",[a("div",{staticClass:"columns is-multiline"},t._l(t.dataTeam,function(t){return a("TeamCard",{key:t.name,attrs:{team:t,score:t.score}})}))])]),t._v("\n\n      Team count "+t._s(t.teamCount)+"\n    ")])])},M=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column is-4"},["Voting"===t.stateContract?a("a",{staticClass:"badge1",attrs:{href:t.$store.state.system.etherscanPrefix+"/address/"+t.$store.state.system.pizzaCoinAddr+"#events","data-badge":t.score,target:"_blank"}}):t._e(),a("div",{staticClass:"box content shadow"},[a("article",{staticClass:"post"},[a("h2",{},[t._v("\n          "+t._s(t.team.name)+"\n      ")]),a("hr"),a("div",{},[a("TeamProfile",{attrs:{team:t.dataTeam}})],1)])])])},I=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._l(t.dataTeam,function(e){return a("div",{key:e.address,staticClass:"is-mobile"},[a("div",{staticClass:"media content-margin"},[a("div",{staticClass:"media-left"},[a("a",{attrs:{href:t.$store.state.system.etherscanPrefix+"/address/"+e.address,target:"_blank"}},[a("p",{staticClass:"image is-48x48"},[a("img",{staticClass:"img-player",attrs:{src:t.playerAvatarImage(e.address),alt:""}})])])]),a("div",{staticClass:"media-content"},[a("div",[a("div",{staticClass:"playerName"},[a("h4",[t._v(t._s(e.name))])]),a("h6",{staticClass:"userAdress"},[t._v(t._s(e.address))])])]),t.isStaffLoggedIn&&"Registration"===t.stateContract?a("div",{staticClass:"media-right"},[a("div",[a("button",{staticClass:"button is-danger",on:{click:function(a){t.removePlayer(t.team,e)}}},[t._v("\n                              Kick\n                      ")])])]):t._e()])])}),"Voting"===t.stateContract&&parseInt(t.tokenBalance)>0&&t.canVote?a("button",{staticClass:"button is-primary is-fullwidth",on:{click:function(e){t.onVote(t.team)}}},[t._v("\n        VOTE\n    ")]):t._e(),t.isStaffLoggedIn||"Registration"!==t.stateContract?t._e():a("div",{staticClass:"join"},[t.isJoined&&!t.isPlayerLoggedIn?a("button",{staticClass:"button is-success is-fullwidth",attrs:{disabled:t.dataTeam.length>4},on:{click:function(e){t.onJoin()}}},[t._v("\n        Join\n      ")]):t._e(),a("form",{on:{submit:function(e){e.preventDefault(),t.onAddPlayer(t.team)}}},[t.isJoined?t._e():a("b-input",{attrs:{type:"text",placeholder:"Your name",required:""},model:{value:t.playerName,callback:function(e){t.playerName=e},expression:"playerName"}})],1),t.isJoined?t._e():a("button",{staticClass:"button is-primary is-fullwidth join",on:{click:function(e){t.onAddPlayer(t.team)}}},[t._v("\n        Submit\n      ")])]),0===t.dataTeam.length&&t.isStaffLoggedIn&&"Registration"===t.stateContract?a("button",{staticClass:"button is-danger is-fullwidth join",on:{click:function(e){t.removeTeam(t.team.name)}}},[t._v("\n      Kick team\n    ")]):t._e()],2)},V=[],L=(a("6b54"),a("36f3")),$=a.n(L),B={data:function(){return{isJoined:!0,playerName:"",pizzaCoin:null,pizzaCoinSymbol:"",userAddress:"",dataTeam:null,canVote:null}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadPizzaCoinSymbol();case 2:if("Registration"===this.stateContract){t.next=11;break}return t.next=5,this.$pizzaCoin.getPlayersProfile(this.team.name);case 5:e=t.sent,a=e.teams,n=e.canVote,this.dataTeam=a,this.canVote=n,console.log("test"+this.dataTeam.length);case 11:console.log("stateContract"+this.stateContract);case 12:if("Registration"!==this.stateContract){t.next=20;break}return t.next=15,this.$pizzaCoin.getPlayersProfile(this.team.name);case 15:r=t.sent,s=r.teams,this.dataTeam=s,t.next=12;break;case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),props:["team"],computed:Object(c["a"])({},Object(u["d"])("auth",["user","isStaffLoggedIn","tokenBalance","isPlayerLoggedIn"]),Object(u["d"])("staff",["stateContract"])),methods:Object(c["a"])({},Object(u["b"])("team",["addMember"]),Object(u["c"])("team",["addScore"]),{onVote:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.name,n=this.$loading.open({container:null}),console.log("onVote --\x3e "+a),!(this.tokenBalance<1)){t.next=7;break}alert("Your toker is not enough."),t.next=23;break;case 7:return t.prev=7,r={voterAddr:this.userAddress,teamName:a,votingWeight:1},t.next=11,this.$pizzaCoin.voteTeam(r);case 11:return s=t.sent,s&&this.$toast.open({duration:5e3,message:"Successfully vote 1 PZC for ".concat(a),type:"is-success"}),t.t0=this.$store,t.next=16,this.$pizzaCoin.getTeamsProfile();case 16:t.t1=t.sent,t.t0.dispatch.call(t.t0,"team/getTeamsProfile",t.t1),t.next=23;break;case 20:t.prev=20,t.t2=t["catch"](7),console.error(t.t2);case 23:n.close();case 24:case"end":return t.stop()}},t,this,[[7,20]])}));return function(e){return t.apply(this,arguments)}}(),onJoin:function(){this.playerName="",this.isJoined=!1},onAddPlayer:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.name,this.isJoined=!0,t.t0=console,t.next=5,a;case 5:return t.t1=t.sent,t.t2="onAddPlayer --\x3e "+t.t1,t.t0.log.call(t.t0,t.t2),console.log("playerName --\x3e "+this.playerName),n={playerAddr:this.userAddress,playerName:this.playerName,teamName:a},t.prev=10,t.next=13,this.$pizzaCoin.registerPlayer(n);case 13:return this.isJoined=!0,t.t3=this.$store,t.next=17,this.$pizzaCoin.getTeamsProfile();case 17:t.t4=t.sent,t.t3.dispatch.call(t.t3,"team/getTeamsProfile",t.t4),t.next=24;break;case 21:t.prev=21,t.t5=t["catch"](10),console.error(t.t5);case 24:case"end":return t.stop()}},t,this,[[10,21]])}));return function(e){return t.apply(this,arguments)}}(),loadPizzaCoinSymbol:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$pizzaCoin.main.methods.symbol().call();case 3:return this.pizzaCoinSymbol=t.sent,t.next=6,this.$pizzaCoin.account;case 6:this.userAddress=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),removePlayer:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.name,r=a.address,console.log("removePlayer --\x3e ".concat(r," in team ").concat(n)),s={kickerAddr:this.userAddress,playerAddr:r,teamName:n},t.prev=4,t.next=7,this.$pizzaCoin.kickPlayer(s);case 7:return o=t.sent,console.log("After delete ->> ".concat(o)),t.t0=this.$store,t.next=12,this.$pizzaCoin.getTeamsProfile();case 12:t.t1=t.sent,t.t0.dispatch.call(t.t0,"team/getTeamsProfile",t.t1),t.next=19;break;case 16:t.prev=16,t.t2=t["catch"](4),console.error(t.t2);case 19:case"end":return t.stop()}},t,this,[[4,16]])}));return function(e,a){return t.apply(this,arguments)}}(),removeTeam:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("teamName: ".concat(e)),t.prev=1,t.next=4,this.$pizzaCoin.kickTeam(e);case 4:return a=t.sent,console.log("After delete ->> ".concat(a)),t.t0=this.$store,t.next=9,this.$pizzaCoin.getTeamsProfile();case 9:t.t1=t.sent,t.t0.dispatch.call(t.t0,"team/getTeamsProfile",t.t1),t.next=16;break;case 13:t.prev=13,t.t2=t["catch"](1),console.error(t.t2);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),playerAvatarImage:function(t){var e=new $.a(t,120).toString();return"data:image/png;base64,".concat(e)},loadTeam:function(){console.log("loadTeam")}})},E=B,F=(a("4c39"),a("eb85"),a("c05d"),a("2414"),Object(m["a"])(E,A,V,!1,null,"3a305a74",null));F.options.__file="TeamProfile.vue";var W=F.exports,D={name:"TeamProfileCard",computed:Object(c["a"])({},Object(u["d"])("staff",["stateContract"])),props:["team","score"],data:function(){return{dataTeam:null}},components:{TeamProfile:W},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.dataTeam=this.team,console.log(this.dataTeam.name+"props"+this.team.name);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},J=D,K=(a("c127"),Object(m["a"])(J,N,I,!1,null,null,null));K.options.__file="TeamCard.vue";var U=K.exports,Y={data:function(){return{dataTeam:null}},name:"home",computed:Object(c["a"])({},Object(u["d"])("team",["teams","teamCount"]),Object(u["d"])("staff",["stateContract"])),methods:{},components:{TeamCard:U},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("mounted"+this.teams);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$pizzaCoin.validateWeb3Connection(this.$toast);case 3:return t.next=5,this.$pizzaCoin.validateWallet(this.$toast);case 5:return t.next=7,this.$pizzaCoin.getTeamsProfile();case 7:e=t.sent,this.dataTeam=e;case 9:if("Registration"!==this.stateContract){t.next=17;break}return t.next=12,this.$pizzaCoin.getTeamsProfile();case 12:a=t.sent,this.dataTeam=a,console.log("home"),t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),console.error(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])}));return function(){return t.apply(this,arguments)}}()},q=Y,H=(a("cccb"),Object(m["a"])(q,O,M,!1,null,null,null));H.options.__file="Home.vue";var Z=H.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n    Leader board\n    "),a("canvas",{attrs:{id:"leader-board-chart"}}),t._v("\n    Team count "+t._s(t.teamCount)+"\n    "),a("section",[a("b-modal",{attrs:{active:t.isCardModalActive,width:640,scroll:"keep"},on:{"update:active":function(e){t.isCardModalActive=e}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-4by3"},[a("img",{attrs:{src:"https://gateway.ipfs.io/ipfs/QmapyMbEgZJKY4ZtJhspWrrvGtfW2grCystrr7D3w7zun8",alt:"Image"}})])]),a("div",{staticClass:"card-content",staticStyle:{position:"absolute",top:"0px",left:"0px",background:"transparent",width:"100%",height:"100%","padding-top":"196px"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("p",{staticClass:"title is-4",staticStyle:{"font-size":"54px","text-align":"center",color:"#fb00ff","font-family":"serif"}},[t._v(t._s(t.modalTeamName))]),a("p",{staticClass:"subtitle is-6"})])])])])])],1)])},G=[],X=(a("ac6a"),a("5b20")),tt=a.n(X),et=a("6314"),at=a.n(et),nt=a("44fa"),rt=a("2ef0"),st=a.n(rt),ot={name:"LeaderBoardComponent",computed:Object(c["a"])({},Object(u["d"])("team",["teams","teamCount"])),data:function(){return{leaderBoardData:null,pizzaCoin:null,teamNames:[],teamScore:[],showTeamNameOnState:"Voting Finished",currentState:"",elements:null,isImageModalActive:!1,isCardModalActive:!1,modalTeamName:"test1",modalTeamScore:1,hiddenNames:[]}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.createWeb3(),this.subscribeEvent(),t.next=4,this.loadData();case 4:this.initChartInstance(),this.initialLabels(),this.createChart("leader-board-chart",this.leaderBoardData);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{loadData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$pizzaCoin.getContractState(this.$pizzaCoin.account);case 2:return this.currentState=t.sent,t.t0=this.$store,t.next=6,this.$pizzaCoin.getTeamsProfile();case 6:return t.t1=t.sent,t.next=9,t.t0.dispatch.call(t.t0,"team/getTeamsProfile",t.t1);case 9:st.a.forEach(this.teams,function(t,a){console.log("team: ",t),console.log("teamName: ",t.name),console.log("total vote: ",t.score),e.currentState===e.showTeamNameOnState?e.teamNames.push(t.name):e.teamNames.push(""),e.hiddenNames.push(t.name),e.teamScore.push(t.score)});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),initChartInstance:function(t,e){var a=this;this.leaderBoardData={type:"bar",data:{labels:this.teamNames,datasets:[{label:"",data:this.teamScore,backgroundColor:["rgba(255, 0, 0, 0.5)","rgba(85, 0, 255, 0.5)","rgba(64, 255, 0, 0.5)","rgba(236, 66, 249, 0.5)","rgba(84, 23, 167, 0.5)","rgba(206, 31, 147, 0.5)","rgba(203, 133, 246, 0.5)","rgba(166, 159, 22, 0.5)","rgba(31, 215, 109, 0.5)","rgba(107, 203, 204, 0.5)","rgba(29, 61,1 45, 0.5)","rgba(174, 99, 20 , 0.5)","rgba(26, 123, 92 , 0.5)","rgba(64, 97, 253, 0.5)","rgba(35, 176, 25, 0.5)"],borderColor:["rgba(255, 0, 0)","rgba(85, 0, 255)","rgba(64, 255, 0)","rgba(236, 66, 249)","rgba(84, 23, 167)","rgba(206, 31, 147)","rgba(203, 133, 246)","rgba(166, 159, 22)","rgba(31, 215, 109)","rgba(107, 203, 204)","rgba(29, 61,1 45)","rgba(174, 99, 20 )","rgba(26, 123, 92 )","rgba(64, 97, 253)","rgba(35, 176, 25)"],borderWidth:3}]},options:{responsive:!0,lineTension:1,scales:{yAxes:[{ticks:{beginAtZero:!0,padding:25}}]},onClick:function(t){var e=a.leaderBoardChart.getElementsAtEvent(t),n=e[0],r=a.leaderBoardChart.data.labels[n._index],s=a.leaderBoardChart.data.datasets[n._datasetIndex].data[n._index];console.log("onClick "+r+": "+s),a.modalTeamName=a.hiddenNames[n._index],a.modalTeamScore=s,a.isCardModalActive=!0}}}},initialLabels:function(){var t=this;tt.a.plugins.register({afterDatasetsDraw:function(e){var a=e.ctx;e.data.datasets.forEach(function(n,r){var s=e.getDatasetMeta(r);s.hidden||s.data.forEach(function(e,r){a.fillStyle="rgb(0, 0, 0)";var s=25,o="normal",i="Helvetica Neue";a.font=tt.a.helpers.fontString(s,o,i);var c=n.data[r].toString();if(0!==parseInt(c)){a.textAlign="center",a.textBaseline="middle";var u=5,l=e.tooltipPosition();a.fillText(c,l.x,l.y-s/2-u),t.currentState===t.showTeamNameOnState&&(a.font=tt.a.helpers.fontString(20,o,i))}})})}})},createWeb3:function(){var t=new at.a(new at.a.providers.WebsocketProvider(this.$store.state.system.ethereumNode));this.pizzaCoin=new t.eth.Contract(nt,this.$pizzaCoin.pizzaCoinAddr)},createChart:function(t,e){if(e){var a=document.getElementById(t);this.leaderBoardChart=new tt.a(a,{type:e.type,data:e.data,options:e.options})}},subscribeEvent:function(){var t=this,e=this.pizzaCoin.events.TeamVoted(null,function(e,a){if(e)throw new Error(e);var n,r;n=a.returnValues._teamName,r=a.returnValues._totalVoted,st.a.forEach(t.teams,function(e,a){e.name===n&&(t.leaderBoardChart.data.datasets[0].data[a]=r,t.leaderBoardChart.update())}),console.log("***** Event catched *****"),console.log("teamName: "+n),console.log("totalVoted: "+r)});return e}}},it=ot,ct=Object(m["a"])(it,Q,G,!1,null,null,null);ct.options.__file="LeaderBoard.vue";var ut=ct.exports;s["a"].use(R["a"]);var lt=new R["a"]({routes:[{path:"/",name:"home",component:Z},{path:"/leader-board",name:"leader-board",component:ut},{path:"/livefeed",beforeEnter:function(){window.open("https://pizzahackathon.github.io/livefeed/","_blank")}},{path:"/github",beforeEnter:function(){window.open("https://github.com/pizzahackathon/","_blank")}}]}),pt=(a("8e0a"),a("3fa7")),mt=a.n(pt),dt=(a("fd24"),a("9393")),ft=(a("ac4d"),a("8a81"),a("c665")),yt=a("aa9a"),bt=a("44b9"),ht=a("734c"),gt=a("d110"),vt={validateWeb3Connection:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!==typeof window.web3){t.next=4;break}throw a="Please install MetaMask, Cipher or Trust wallet.",this.showToastError(e,a,6e4),Error(a);case 4:return t.next=6,this.getNetworkName();case 6:if(n=t.sent,console.log("currentNetwork ".concat(this.network)),n===this.network){t.next=12;break}throw r="Wrong network! Please switch to **".concat(this.capitalize(this.network),"** on Metamask."),this.showToastError(e,r,6e4),Error(r);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),validateWallet:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.web3.eth.getAccounts();case 2:if(a=t.sent,console.log("accounts ".concat(a)),0!==a.length){t.next=9;break}throw setInterval(Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.web3.eth.getAccounts();case 2:e=t.sent,e.length>0&&(console.log("refresh"),location.reload());case 4:case"end":return t.stop()}},t,this)})),100),n="Please unlock your MetaMask.",this.showToastError(e,n,6e4),Error(n);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),showToastError:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=r.length>2&&void 0!==r[2]?r[2]:5e3,e.open({duration:n,message:a,type:"is-danger"});case 2:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},wt=vt,kt=function(){function t(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rinkeby",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wss://rinkeby.infura.io/_ws",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0x5aa5bf8f1a386f6f3cc564548890ee9a7382718d",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0xb25eE5C4d11F9D934f2642d30c99319708e615D4",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0x164d120357CAc5Cea08c201D719c7D48b2054b8e",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0xD1571785b4309F55294EF7593276B7B5505F103A";Object(ft["a"])(this,t),this.network=a,"undefined"===typeof window.web3?this.web3=new at.a(new at.a.providers.WebsocketProvider(n)):this.web3=new at.a(window.web3.currentProvider),this.pizzaCoinAddr=r,this.pizzaCoinStaffAddr=s,this.pizzaCoinTeamAddr=o,this.pizzaCoinPlayerAddr=i,this.loadUserAddress().then(function(t){e.account=t}),this.main=new this.web3.eth.Contract(nt,this.pizzaCoinAddr),this.staff=new this.web3.eth.Contract(bt,this.pizzaCoinStaffAddr),this.team=new this.web3.eth.Contract(ht,this.pizzaCoinTeamAddr),this.player=new this.web3.eth.Contract(gt,this.pizzaCoinPlayerAddr),console.log(this.main.methods),console.log(this.staff.methods),console.log(this.team.methods),console.log(this.player.methods)}return Object(yt["a"])(t,[{key:"loadUserAddress",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.web3.eth.getAccounts();case 2:return e=t.sent,console.log("loadUserAddress >> "+e[0]),t.abrupt("return",e[0]);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTokenBalance",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.main.methods.balanceOf(e).call();case 3:a=t.sent,console.log("playerAddr --\x3e"+e+": tokenBalance = "+a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"createTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log('Creating a new team --\x3e "'+a+'" ...'),t.next=3,this.main.methods.createTeam(a,e).send({from:this.account,gas:5e5,gasPrice:1e10});case 3:n=t.sent,console.log("... succeeded"),console.log(n);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},{key:"getTeamCount",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.team.methods.getTotalTeams().call();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTeamArrayLength",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.team.methods.getTeamArrayLength().call();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPlayerCountInTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.team.methods.getTotalPlayersInTeam(e).call();case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getTeamsProfile",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s,o,i,c,u,l,p,m,d,f,y,b,h,g,v=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getTeamArrayLength();case 3:for(e=t.sent,console.log("teamArrayLength: "+e+"\n"),n=[],s=0;s<e;s++)n.push(this.getFirstFoundTeamInfo(s));return t.next=9,Promise.all(n);case 9:if(o=t.sent,o=o.filter(function(t){var e=t[2];return""!==e}),console.log("teamInfos ".concat(JSON.stringify(o))),!(o.length>0)){t.next=37;break}if(i=o[o.length-1][0],!1!==i){t.next=37;break}for(c=[],u=[],l=!0,p=!1,m=void 0,t.prev=20,d=o[Symbol.iterator]();!(l=(f=d.next()).done);l=!0)y=f.value,b=y[2],-1===u.indexOf(b)&&(c.push(y),u.push(b));t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](20),p=!0,m=t.t0;case 28:t.prev=28,t.prev=29,l||null==d.return||d.return();case 31:if(t.prev=31,!p){t.next=34;break}throw m;case 34:return t.finish(31);case 35:return t.finish(28);case 36:o=c;case 37:return console.log("unique teamInfos ".concat(JSON.stringify(o))),h=o.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,s,o,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(dt["a"])(e,4),r=n[0],s=n[1],o=n[2],i=n[3],console.log("nextStartSearchingIndex ".concat(s)),r&&console.log("endOfList ".concat(r)),console.log("teamName: "+o),console.log("totalVoted: "+i+"\n"),t.next=7,v.getVotingPointForTeam(o);case 7:return t.t0=t.sent,a={score:t.t0},c={name:o,score:a.score},console.log("profile >> "+JSON.stringify(c)),t.abrupt("return",c);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t.next=41,Promise.all(h);case 41:return g=t.sent,console.log("dataTeams >>  "+JSON.stringify(g)),t.abrupt("return",g);case 46:t.prev=46,t.t1=t["catch"](0),console.error(t.t1);case 49:case"end":return t.stop()}},t,this,[[0,46],[20,24,28,36],[29,,31,35]])}));return function(){return t.apply(this,arguments)}}()},{key:"getFirstFoundTeamInfo",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.team.methods.getFirstFoundTeamInfo(e).call();case 2:return a=t.sent,t.abrupt("return",[a._endOfList,a._nextStartSearchingIndex,a._teamName,a._totalVoted]);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"registerPlayerToTeam",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(a,n,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log('\nRegistering a staff --\x3e "'+n+'" ...'),e.prev=1,e.next=4,t.methods.registerPlayerToTeam(n,r).send({from:a,gas:35e4,gasPrice:1e10});case 4:s=e.sent,console.log(s),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error(e.t0);case 11:console.log("... succeeded");case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getTotalVotersToTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=0,console.log('\nQuerying for a total number of voters to the specific team --\x3e "'+e+'" ...'),t.prev=2,t.next=5,this.team.methods.getTotalVotersToTeam(e).call({});case 5:a=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getVotingPointForTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=0,console.log('\nQuerying for a total number of voters to the specific team --\x3e "'+e+'" ...'),t.prev=2,t.next=5,this.team.methods.getVotingPointForTeam(e).call({});case 5:a=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}()},{key:"startVoting",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("\nChanging the contracts' state to Voting ..."),t.prev=1,t.next=4,this.main.methods.startVoting().send({from:e,gas:1e6,gasPrice:1e10});case 4:console.log("... succeeded"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:return t.prev=10,console.log("\nValidating the contracts' state ..."),t.next=14,this.main.methods.getContractState().call({from:e});case 14:a=t.sent,console.log("... succeeded --\x3e "+a),t.next=21;break;case 18:t.prev=18,t.t1=t["catch"](10),console.error(t.t1);case 21:case"end":return t.stop()}},t,this,[[1,7],[10,18]])}));return function(e){return t.apply(this,arguments)}}()},{key:"stopVoting",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("\nChanging the contracts' state to Voting ..."),t.prev=1,t.next=4,this.main.methods.stopVoting().send({from:e,gas:1e6,gasPrice:1e10});case 4:console.log("... succeeded"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:return t.prev=10,console.log("\nValidating the contracts' state ..."),t.next=14,this.main.methods.getContractState().call({from:e});case 14:a=t.sent,console.log("... succeeded --\x3e "+a),t.next=21;break;case 18:t.prev=18,t.t1=t["catch"](10),console.error(t.t1);case 21:case"end":return t.stop()}},t,this,[[1,7],[10,18]])}));return function(e){return t.apply(this,arguments)}}()},{key:"voteTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.voterAddr,n=e.teamName,r=e.votingWeight,console.log('\nVoting to a team --\x3e  team: "'+n+'" weight: "'+r+'" form '+a),t.prev=2,t.next=5,this.main.methods.voteTeam(n,parseInt(r)).send({from:a,gas:1e6,gasPrice:1e9});case 5:return console.log("... succeeded voteTeam"),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t["catch"](2),console.error(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"kickTeam",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log('\nKicking team --\x3e "'+e+'" ...'),t.prev=1,t.next=4,this.main.methods.kickTeam(e).send({from:this.account,gas:1e6,gasPrice:1e10});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.error(t.t0);case 9:case"end":return t.stop()}},t,this,[[1,6]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getPlayersProfile",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r,s,o,i,c,u,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPlayerCountInTeam(e);case 2:a=t.sent,console.log("playerCount: ".concat(a)),n=[],r=0,i=!0;case 7:return t.next=10,this.getFirstFoundPlayer(e,r);case 10:if(c=t.sent,u=Object(dt["a"])(c,3),s=u[0],r=u[1],o=u[2],console.log("endOfList >> ".concat(s)),console.log("myAccount >> ".concat(this.account)),!s){t.next=19;break}return t.abrupt("break",28);case 19:return console.log("playerAddress >> : "+o),t.next=22,this.getPlayerName(o);case 22:l=t.sent,console.log("playerName >> : ".concat(l)),o===this.account&&(i=!1,console.log(o+"booommm"+this.account)),n.push({name:l,address:o}),t.next=7;break;case 28:return t.abrupt("return",{teams:n,canVote:i});case 29:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isPlayer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("isPlayer >> ".concat(e)),t.next=3,this.player.methods.isPlayer(e).call();case 3:return a=t.sent,console.log("isPlayer >> ".concat(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getFirstFoundPlayer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.team.methods.getFirstFoundPlayerInTeam(e,a).call();case 2:return n=t.sent,t.abrupt("return",[n._endOfList,n._nextStartSearchingIndex,n._player]);case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},{key:"getPlayerName",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.player.methods.getPlayerName(e).call();case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"registerPlayer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.playerAddr,n=e.playerName,r=e.teamName,console.log('\nRegistering a player --\x3e "'+r+'" ...'),t.prev=2,t.next=5,this.main.methods.registerPlayer(n,r).send({from:a,gas:1e6,gasPrice:1e10});case 5:console.log("... succeeded"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}()},{key:"kickPlayer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.kickerAddr,n=e.playerAddr,r=e.teamName,console.log('\nKicking a player --\x3e "'+n+'" ...'),t.prev=2,t.next=5,this.main.methods.kickPlayer(n,r).send({from:a,gas:1e6,gasPrice:1e10});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[2,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getStaffName",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.staff.methods.getStaffName(e).call();case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isStaff",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ddd >> ".concat(e)),t.next=3,this.staff.methods.isStaff(e).call();case 3:return a=t.sent,console.log("dddIs >> ".concat(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"lockRegistration",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("lockRegis"),t.prev=1,t.next=4,this.main.methods.lockRegistration().send({from:e,gas:1e6,gasPrice:1e10});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.error(t.t0);case 9:case"end":return t.stop()}},t,this,[[1,6]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getContractState",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("\nValidating the contracts' state ..."),t.next=4,this.main.methods.getContractState().call({from:e});case 4:a=t.sent,console.log("check state --\x3e "+a),console.log("... succeeded --\x3e "+a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:return t.abrupt("return",a);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getNetworkName",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.web3.eth.net.getNetworkType();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}();Object.setPrototypeOf(kt.prototype,Object(c["a"])({},wt));var xt=kt,_t=new xt(S.state.system.network,S.state.system.ethereumNode,S.state.system.pizzaCoinAddr,S.state.system.pizzaCoinStaffAddr,S.state.system.pizzaCoinTeamAddr,S.state.system.pizzaCoinPlayerAddr);s["a"].prototype.$pizzaCoin=_t,s["a"].prototype.$store=S;var Ct=1e3;setInterval(Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,r,s,o,i,c,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.account;case 2:return e=t.sent,console.log("service >> "+e),t.next=6,_t.isStaff(e);case 6:return a=t.sent,t.next=9,_t.isPlayer(e);case 9:return r=t.sent,t.next=12,_t.getTokenBalance(e);case 12:return s=t.sent,t.next=15,_t.getContractState(e);case 15:if(o=t.sent,console.log("check state --\x3e "+o),console.log("isStaff >> ".concat(a)),console.log("isPlayer >> ".concat(r)),!a&&!r){t.next=39;break}if(a?S.dispatch("auth/isStaffLogin",e):S.dispatch("auth/isPlayerLogin",e),t.prev=21,!a){t.next=28;break}return t.next=25,_t.getStaffName(e);case 25:t.t0=t.sent,t.next=31;break;case 28:return t.next=30,_t.getPlayerName(e);case 30:t.t0=t.sent;case 31:i=t.t0,c={role:a?"Staff":"Player",name:i},S.dispatch("auth/playerInfo",c),t.next=39;break;case 36:t.prev=36,t.t1=t["catch"](21),console.error(t.t1);case 39:return console.log("check tokenBalance --\x3e "+Object(n["a"])(parseInt(s))),u={isPlayer:r,tokenBalance:s},S.dispatch("staff/getContractState",o),"Voting"===o&&(Ct=100),"Voting Finished"===o&&(Ct=1e5),S.dispatch("auth/getTokenBalance",u),t.t2=S,t.next=48,_t.getTeamCount();case 48:t.t3=t.sent,t.t2.dispatch.call(t.t2,"team/getTeamCount",t.t3),console.log("inteval"+Ct);case 51:case"end":return t.stop()}},t,this,[[21,36]])})),Ct),s["a"].use(mt.a),s["a"].config.productionTip=!1,new s["a"]({store:S,router:lt,render:function(t){return t(f)}}).$mount("#app")},"734c":function(t){t.exports=[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[],name:"lockRegistration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"startVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stopVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"}],name:"doesTeamExist",outputs:[{name:"bTeamExist",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"}],name:"createTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_player",type:"address"},{name:"_teamName",type:"string"}],name:"registerPlayerToTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"}],name:"kickTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_player",type:"address"},{name:"_teamName",type:"string"}],name:"kickPlayerOutOffTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"}],name:"getArrayLengthOfPlayersInTeam",outputs:[{name:"_length",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"}],name:"getTotalPlayersInTeam",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"},{name:"_startSearchingIndex",type:"uint256"}],name:"getFirstFoundPlayerInTeam",outputs:[{name:"_endOfList",type:"bool"},{name:"_nextStartSearchingIndex",type:"uint256"},{name:"_player",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"},{name:"_playerIndex",type:"uint256"}],name:"getPlayerInTeamAtIndex",outputs:[{name:"_endOfList",type:"bool"},{name:"_player",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalTeams",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTeamArrayLength",outputs:[{name:"_length",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_startSearchingIndex",type:"uint256"}],name:"getFirstFoundTeamInfo",outputs:[{name:"_endOfList",type:"bool"},{name:"_nextStartSearchingIndex",type:"uint256"},{name:"_teamName",type:"string"},{name:"_totalVoted",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"}],name:"getVotingPointForTeam",outputs:[{name:"_totalVoted",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"}],name:"getTotalVotersToTeam",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_teamName",type:"string"},{name:"_voterIndex",type:"uint256"}],name:"getVoteResultAtIndexToTeam",outputs:[{name:"_endOfList",type:"bool"},{name:"_voter",type:"address"},{name:"_voteWeight",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_voter",type:"address"},{name:"_votingWeight",type:"uint256"}],name:"voteToTeam",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getMaxTeamVotingPoint",outputs:[{name:"_maxTeamVotingPoint",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalWinnerTeams",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_startSearchingIndex",type:"uint256"}],name:"getFirstFoundWinnerTeam",outputs:[{name:"_endOfList",type:"bool"},{name:"_nextStartSearchingIndex",type:"uint256"},{name:"_teamName",type:"string"},{name:"_totalVoted",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},"738c":function(t,e,a){},"8f59":function(t,e,a){},9:function(t,e){},"9e89":function(t,e,a){},ae88:function(t,e,a){},c05d:function(t,e,a){"use strict";var n=a("3ffc"),r=a.n(n);r.a},c127:function(t,e,a){"use strict";var n=a("9e89"),r=a.n(n);r.a},c21b:function(t,e,a){},cccb:function(t,e,a){"use strict";var n=a("8f59"),r=a.n(n);r.a},d110:function(t){t.exports=[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_voterInitialTokens",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[],name:"lockRegistration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"startVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"stopVoting",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getTotalSupply",outputs:[{name:"_totalSupply",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"}],name:"isPlayer",outputs:[{name:"_bPlayer",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"},{name:"_teamName",type:"string"}],name:"isPlayerInTeam",outputs:[{name:"_bTeamPlayer",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_player",type:"address"}],name:"getPlayerName",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_player",type:"address"}],name:"getTeamNamePlayerJoined",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_player",type:"address"},{name:"_playerName",type:"string"},{name:"_teamName",type:"string"}],name:"registerPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_player",type:"address"},{name:"_teamName",type:"string"}],name:"kickPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getTotalPlayers",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_startSearchingIndex",type:"uint256"}],name:"getFirstFoundPlayerInfo",outputs:[{name:"_endOfList",type:"bool"},{name:"_nextStartSearchingIndex",type:"uint256"},{name:"_player",type:"address"},{name:"_name",type:"string"},{name:"_tokensBalance",type:"uint256"},{name:"_teamName",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_player",type:"address"}],name:"getTotalTeamsVotedByPlayer",outputs:[{name:"_total",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_player",type:"address"},{name:"_votingIndex",type:"uint256"}],name:"getVoteResultAtIndexByPlayer",outputs:[{name:"_endOfList",type:"bool"},{name:"_team",type:"string"},{name:"_voteWeight",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_player",type:"address"}],name:"getTokenBalance",outputs:[{name:"_tokenBalance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_teamName",type:"string"},{name:"_player",type:"address"},{name:"_votingWeight",type:"uint256"}],name:"commitToVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},e48c:function(t,e,a){"use strict";var n=a("058b"),r=a.n(n);r.a},eb85:function(t,e,a){"use strict";var n=a("738c"),r=a.n(n);r.a}});
//# sourceMappingURL=app.2bdbe91c.js.map